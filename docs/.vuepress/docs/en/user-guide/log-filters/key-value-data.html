<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Key-Value Data | QW Control</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/docs/images/qwcontrollogo-black.png">
    <meta name="description" content="Automation and orchestration platform for services, IT and business processes.">
    
    <link rel="preload" href="/docs/assets/css/0.styles.470f8f6e.css" as="style"><link rel="preload" href="/docs/assets/js/app.e6599754.js" as="script"><link rel="preload" href="/docs/assets/js/2.89ff55d4.js" as="script"><link rel="preload" href="/docs/assets/js/19.a2d4e68b.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.7361f852.js"><link rel="prefetch" href="/docs/assets/js/11.7efc22cf.js"><link rel="prefetch" href="/docs/assets/js/12.1cc9cd33.js"><link rel="prefetch" href="/docs/assets/js/13.94674093.js"><link rel="prefetch" href="/docs/assets/js/14.30c64560.js"><link rel="prefetch" href="/docs/assets/js/15.4cad1ae3.js"><link rel="prefetch" href="/docs/assets/js/16.07260a99.js"><link rel="prefetch" href="/docs/assets/js/17.50123621.js"><link rel="prefetch" href="/docs/assets/js/18.bbe0b54d.js"><link rel="prefetch" href="/docs/assets/js/20.9a352bff.js"><link rel="prefetch" href="/docs/assets/js/21.a4468dc5.js"><link rel="prefetch" href="/docs/assets/js/22.a5aaf5f0.js"><link rel="prefetch" href="/docs/assets/js/23.4a36261f.js"><link rel="prefetch" href="/docs/assets/js/24.b731bcb7.js"><link rel="prefetch" href="/docs/assets/js/25.b94ed6e2.js"><link rel="prefetch" href="/docs/assets/js/26.ec56058c.js"><link rel="prefetch" href="/docs/assets/js/27.a1b55cc3.js"><link rel="prefetch" href="/docs/assets/js/28.5b11f1a5.js"><link rel="prefetch" href="/docs/assets/js/29.1047cd93.js"><link rel="prefetch" href="/docs/assets/js/3.261660d1.js"><link rel="prefetch" href="/docs/assets/js/30.ae63125c.js"><link rel="prefetch" href="/docs/assets/js/31.abe9ee83.js"><link rel="prefetch" href="/docs/assets/js/32.9ef79ac7.js"><link rel="prefetch" href="/docs/assets/js/33.38e1b577.js"><link rel="prefetch" href="/docs/assets/js/34.9d80df8c.js"><link rel="prefetch" href="/docs/assets/js/35.79fad826.js"><link rel="prefetch" href="/docs/assets/js/36.a9c50d55.js"><link rel="prefetch" href="/docs/assets/js/37.b106dc0d.js"><link rel="prefetch" href="/docs/assets/js/38.06457db2.js"><link rel="prefetch" href="/docs/assets/js/39.68437c19.js"><link rel="prefetch" href="/docs/assets/js/4.acea1853.js"><link rel="prefetch" href="/docs/assets/js/40.85799a72.js"><link rel="prefetch" href="/docs/assets/js/5.80c84993.js"><link rel="prefetch" href="/docs/assets/js/6.e2fb9f94.js"><link rel="prefetch" href="/docs/assets/js/7.10ae753f.js"><link rel="prefetch" href="/docs/assets/js/8.fbecdb9d.js"><link rel="prefetch" href="/docs/assets/js/9.0ac9b648.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.470f8f6e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/en/" class="home-link router-link-active"><!----> <span class="site-name">QW Control</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Introduction" class="dropdown-title"><span class="title">Introduction</span> <span class="arrow down"></span></button> <button type="button" aria-label="Introduction" class="mobile-dropdown-title"><span class="title">Introduction</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/en/introduction/introduction.html" class="nav-link">
  Introduction
</a></li><li class="dropdown-item"><!----> <a href="/docs/en/introduction/getting-help.html" class="nav-link">
  Getting Help
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="User Guide" class="dropdown-title"><span class="title">User Guide</span> <span class="arrow down"></span></button> <button type="button" aria-label="User Guide" class="mobile-dropdown-title"><span class="title">User Guide</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/en/user-guide/projects.html" class="nav-link">
  Projects
</a></li><li class="dropdown-item"><!----> <a href="/docs/en/user-guide/jobs.html" class="nav-link">
  Jobs
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/user-guide/log-filters/key-value-data.html" class="nav-link">
  Português
</a></li><li class="dropdown-item"><!----> <a href="/docs/en/user-guide/log-filters/key-value-data.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Introduction" class="dropdown-title"><span class="title">Introduction</span> <span class="arrow down"></span></button> <button type="button" aria-label="Introduction" class="mobile-dropdown-title"><span class="title">Introduction</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/en/introduction/introduction.html" class="nav-link">
  Introduction
</a></li><li class="dropdown-item"><!----> <a href="/docs/en/introduction/getting-help.html" class="nav-link">
  Getting Help
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="User Guide" class="dropdown-title"><span class="title">User Guide</span> <span class="arrow down"></span></button> <button type="button" aria-label="User Guide" class="mobile-dropdown-title"><span class="title">User Guide</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/en/user-guide/projects.html" class="nav-link">
  Projects
</a></li><li class="dropdown-item"><!----> <a href="/docs/en/user-guide/jobs.html" class="nav-link">
  Jobs
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/user-guide/log-filters/key-value-data.html" class="nav-link">
  Português
</a></li><li class="dropdown-item"><!----> <a href="/docs/en/user-guide/log-filters/key-value-data.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>User Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/en/user-guide/projects.html" class="sidebar-link">Projects</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/docs/en/user-guide/jobs" class="sidebar-heading clickable open"><span>Jobs</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/en/user-guide/jobs.html" class="sidebar-link">Jobs</a></li><li><a href="/docs/en/user-guide/creating-jobs.html" class="sidebar-link">Creating jobs</a></li><li><a href="/docs/en/user-guide/job-workflows.html" class="sidebar-link">Job Workflows</a></li><li><a href="/docs/en/user-guide/job-options.html" class="sidebar-link">Job Options</a></li><li><a href="/docs/en/user-guide/job-notifications.html" class="sidebar-link">Job Notifications</a></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><a href="/docs/en/user-guide/log-filters/" class="sidebar-heading clickable router-link-active open"><span>Log Filters</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/en/user-guide/log-filters/key-value-data.html" aria-current="page" class="active sidebar-link">Key-Value Data</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/en/user-guide/log-filters/key-value-data.html#usage" class="sidebar-link">Usage</a></li><li class="sidebar-sub-header"><a href="/docs/en/user-guide/log-filters/key-value-data.html#examples" class="sidebar-link">Examples</a></li><li class="sidebar-sub-header"><a href="/docs/en/user-guide/log-filters/key-value-data.html#see-also" class="sidebar-link">See Also</a></li></ul></li><li><a href="/docs/en/user-guide/log-filters/quiet-output.html" class="sidebar-link">Quiet Output</a></li><li><a href="/docs/en/user-guide/log-filters/highlight-output.html" class="sidebar-link">Highlight Output</a></li><li><a href="/docs/en/user-guide/log-filters/render-formatted-data.html" class="sidebar-link">Render Formatted Data</a></li><li><a href="/docs/en/user-guide/log-filters/mask-passwords.html" class="sidebar-link">Mask Passwords</a></li><li><a href="/docs/en/user-guide/log-filters/json-jq.html" class="sidebar-link">JSON jq key/value mapper</a></li><li><a href="/docs/en/user-guide/log-filters/multi-line-regex.html" class="sidebar-link">Multiline Regex Capture</a></li></ul></section></li></ul></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="key-value-data"><a href="#key-value-data" class="header-anchor">#</a> Key-Value Data</h1> <p>The Key Value Data log filter can parse the output of a workflow step with a regular expression to create a key/value data that is exported to the workflow as a context variable for use in later workflow steps.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>This plugin can only capture data values which are logged within a single line of log output.</p> <p>If you want to capture multiple lines of output, see the <a href="/docs/en/user-guide/log-filters/multi-line-regex.html#usage">Multiline Regex Capture</a> plugin.</p></div> <h2 id="usage"><a href="#usage" class="header-anchor">#</a> Usage</h2> <p>There are only three configuration components:</p> <ul><li>Pattern</li> <li>Name Data</li> <li>Log Data (Checkbox)</li></ul> <p>The Pattern field matches a regular expression and looks for one or two Capture Groups. If there are two Capture Groups, the first will be mapped to a QW Control variable key in the data context, while the second will be the value. If there is only one Capture Group, the match will be the value.</p> <p>The Name Data field is only used when a single Capture Group is defined in the regex statement. The value of that field will be used as the variable key.  The variable value will be the content from the Capture Group.</p> <p>Log Data is a checkbox that, if checked, will add tabular output of what is captured in the filter to the log output of the job that the filter is attached to.</p> <p>By default, the pattern field is set to: <code>^QWCONTROL:DATA:(.+?)\s*=\s*(.+)$</code></p> <p>This will match output of the attached job if there is a line in the log output that begins with <em>QWCONTROL:DATA:foo=value1</em>. The data is available in later job steps as the QW Control variable <code>$data.foo</code> with a value of everything after the equals sign to the end of the line. So in this case, the value of <code>$data.foo</code> would be <em>value1</em>.</p> <p>Under the Advanced section, there is also an Invalid Character Pattern. This is a regular expression that matches unwanted characters in the matched value of the Pattern field. By default, QW Control filters out whitespace and characters typical of QW Control variable calls like <code>$, {, }, and \</code>.</p> <h2 id="examples"><a href="#examples" class="header-anchor">#</a> Examples</h2> <p><img src="/assets/img/logfilter-keyvalue-example1.png" alt="logfilter-keyvalue-example1"></p> <p>The log filter in this example is fully default, with the Log Data field checked:</p> <p><img src="/assets/img/logfilter-keyvalue-example2.png" alt="logfilter-keyvalue-example2"></p> <p>The output when the job runs looks like this:</p> <p><img src="/assets/img/logfilter-keyvalue-example3.png" alt="logfilter-keyvalue-example3"></p> <p>In later job steps, refer to <code>$data.EXIP</code> in commands, or <code>@data.EXIP@</code> in scripts for the <em>10.1.1.2</em> value.</p> <h2 id="see-also"><a href="#see-also" class="header-anchor">#</a> See Also</h2> <ul><li><a href="/docs/en/user-guide/log-filters/multi-line-regex.html#usage">Multiline Regex Capture</a> which can capture multiple lines of log output into a data variable.</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/en/user-guide/job-notifications.html" class="prev">
        Job Notifications
      </a></span> <span class="next"><a href="/docs/en/user-guide/log-filters/quiet-output.html">
        Quiet Output
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.e6599754.js" defer></script><script src="/docs/assets/js/2.89ff55d4.js" defer></script><script src="/docs/assets/js/19.a2d4e68b.js" defer></script>
  </body>
</html>
